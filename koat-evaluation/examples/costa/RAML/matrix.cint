(GOAL COMPLEXITY)
(STARTTERM (FUNCTIONSYMBOLS matrixmult))
(VAR A Ap B Bp C Cp D E F L R Rp)
(RULES
 matrixmult(A, B, C, D) -> Com_3(transAcc(C, D, C, 0),matrixmultp(A, B, C, L),makeBase(C, D)) :|: L=A+D && A>=0 && B>=0 && C>=0 && D>=0
 transAcc(A, B, C, D) -> Com_2(attach(B, Ap, L),transAcc(Ap, B, C, D)) :|: A>=1 && Ap=A - 1 && L=D+Ap
 out1__transAcc(A, B, C, D) -> Com_1(out1__transAcc(Ap, B, C, D)) :|: A>=1 && Ap=A - 1
 out2__transAcc(A, B, C, D) -> Com_1(out2__transAcc(Ap, B, C, D)) :|: A>=1 && Ap=A - 1
 attach(A, B, C) -> Com_1(attach(Ap, Bp, C)) :|: A>=1 && Ap=A - 1 && Bp=B - 1
 makeBase(A, B) -> Com_1(mkBase(B)) :|: A>=1
 mkBase(A) -> Com_1(mkBase(Ap)) :|: A>=1 && Ap=A - 1
 out1__split(R, C) -> Com_1(out1__split(Rp, C)) :|: R>=1 && Rp=R - 1
 out2__split(R, C) -> Com_1(out2__split(Rp, C)) :|: R>=1 && Rp=R - 1
 out3__split(R, C) -> Com_1(out3__split(Rp, C)) :|: R>=1 && Rp=R - 1
 split(R, C) -> Com_1(split(Rp, C)) :|: R>=1 && Rp=R - 1
 out1__makeBase(A, B) -> Com_1(out__mkBase(B)) :|: A=0
 out__mkBase(A) -> Com_1(out__mkBase(Ap)) :|: A>=1 && Ap=A - 1
 matrixmult3(A, B, C, D, E, F) -> Com_1(matrixmult(A, B, C, D)) :|: TRUE
 matrixmultp(A, B, C, D) -> Com_2(linemult(B, C, D),matrixmultp(Ap, B, C, D)) :|: A>=1 && Ap=A - 1
 linemult(A, B, C) -> Com_2(mult(A, C),linemult(A, Bp, C)) :|: B>=1 && Bp=B - 1
 mult(A, B) -> Com_1(mult(Ap, Bp)) :|: A>=1 && B>=1 && Ap=A - 1 && Bp=B - 1
 transpose(R, C) -> Com_1(split(R, C)) :|: R>=1 && C=1
 transpose(R, C) -> Com_2(split(R, C),transpose(R, Cp)) :|: R>=1 && C>=2 && Cp=C - 1
)
